

ТЭГ СОПРОТИВЛЕНИЕ УРОВНЕЙ (LR - LEVEL RESIST)


СТРАТЕГИЯ:

*** Условия начала поиска

1. Супертренд ВНИЗ (или вся свеча ниже emac21)

2. Свеча у которой нижний хвост больше тела, а верхний меньше (или ham)
нижним хвостом оказывается в уровнях, но закрывается вне уровней

3. До высоты цены +1.27% нет других уровней.

> Начинаем поиск
> Запоминаем самую нижнюю границу среди всех уровней, которые мы касаемся хвостом.
> Запоминаем самую верхнюю границу среди всех уровней, которые мы касаемся хвостом.
(ну и суммарный вес на всякий случай - по нему фильтровать потом заказы)

*** Условия конца поиска:

	1. Есть свеча, которая закрывается ниже нижней границы
	2. Проходит более 20 свечей без заверщения всех последующих событий.

*** Продолжаем поиск

Ожидаем:
4. хотя бы 3 свечи, которые полностью над верхней границей уровня. (отскок?)
5. extremum.high


6. Вторая свеча с хвостом внутри, с закрытием снаружи (критерии первой)
7. Значение  emac21 меньше, чем emac21  во время первой свечи (поджатие к уровню)

*** Точка входа:

А. Предыдущая свеча красная, текущая свеча зеленая

или

Б. Зеленая свеча CLOSE-ABOVE, ENGULFING UP, HAMMER с объемом в два раза больше предыдущей свечи








1. Вывод GUI RealOrders 
 - Вынести в отдельные компоненты win/loose
 

2. Отображение на чарте Реал ордерс
2. Сохранение RealOrders в базе данных
3. Загрузка из базы данных
4. Обновление текущей цены RealOrders из тикеров, а закрытие из brokerUser API
5. Редактирование СтопЛосс и ТейкПрофит
6. Реверс сделки



Сделать SuperTrend анализатор и Статический ТЭГ по нему



Для Коли:
1. Как работает интеграция


ИДЕЯ: ИЗ НАКОПЛЕНИЯ ЦЕНА ПРИМАГНИТИТСЯ К БОЛЕЕ СИЛЬНЫМ УРОВНЯМ
 (если нет поджимающего треугольника, или свечей отталкивающихся хвостами от уровня в
 котором идет накопление)






1. Тэг - тренд  hl_trend >= 3,4,5,6
2  Тэг higher_hl_trend > 3,4,5,6
3. MACD_HISTOGRAM > 0
4. !!! Тэг хотя бы 3,4,5,6 свечей полностью выше линии 21, затем касание хвостом
не сбрасывает тэг, сбрасывает тег касание телом
5. HOS - тэг отобразить на графике, посмотреть как он работает.
8. Стратегия структурные уровни.
9. Тэг DIVERGENCE


План:

3. Запустить бота на сервере (обновить нод)


1. Анализатор проторговка уровня
2. Анализатор пробой уровня
3. Анализатор отскок от уровня

4. Стратегия последовательность флагов: проторговка, пробой, отскок
Стоп по следующему уровню.

5. Уровни
- Слияние пересекающихся уровней
- уровни более высокого порядка - срок? учитывать только весовые?
Вообщем адекватно сделать



Понедельник:
3. Маркетологу акцию
4. Ядро процессора добавить
4. Зарегиться в Skitter и Webmoney, внести денег с карты и вывести обратно на счет.



CBON:

** iiko_update_profiles.php **

1. Ограничить подгрузку кэша EDL expenses:
 - edl фильтр только те склады и товары по всем активным профилям (мэйн)
 - edl фильтр только склады и товары присутсвующие в блоке (кроме мэйн)

3. Сделать MethodsIO сущность report() которая будет позволять генерить отчет из массива expenses

3. Для модуля pools() сделать методы, получения expenses сдвигом от начала/конца

4. Создание пула без подгрузки отработаных смен, если они не нужны?
 - PDEDataPool подгрузку salary сделать по первому запросу к wasStoreOpen

5. EDL упростить частичную загрузку из DB:
- если частично не попадаем в границы кэша - грузим все из ДБ
- если в границы попадаем, но ничего не найдено - пытаемся загрузить из ДБ ? (флаг в запросе делать так или нет)
- в любом случае сообщаем пользователю, что запрос медленный


* Orders: - Плановое создание


 - возможность включать и выключать любой кэндл дебаг
   - показывать только доступные источники
   - при открытии entries/order включать список дебагов, указанных в стратегии
      - в стратегии добавить список, возвращать его вместе с get_entry


FRONT: живое обновление текущей свечи из компонента Chart
  

 - починить исчезающие входы. подгружать входы на все 1000 свечей и передавать
 в слой рисования не через data (как уровни), что бы они не торчали дальше за границей тоже

- mysql-CandleDebug remake to use separate tables for each vmid or vmid-symbol-timeframe ?

 VUEX почему без getters ?

-  
 - написать Sequencer.getLoadPartSize() 
 - переделать mysql-CandleDebug.save - на execute - может быстрее будет?
 - проверить на 1 минутках как работает лайв обновление
- освободить память - хранить в памяти свечей каждого фрейма только в рамках требования стратегий 
 (максимальный размер фигуры в свечах). Например максимум 100 свечей.



=== BASIC CONCEPTION ========================================================================

  Odinary USER only allowed to select existing VM.
  Then he has read access to existing in DB ( VM.Entries, VM.CandleDebug )
  Then he has OWN USER.Params ( VM, EntryPlan.Params) 
  Then he has OWN USER.Orders, wich he can recalculate which ever way he wants
  Then he can browse and see ALL candles in VM, and all Candle Debugs
  Then he can set up Telegram alarm based on his EP.params
  Then he can provide his API keys and set up Automatic entries based on his EP.params    
  Additional DB entity exists which depicts orders actually traded (passed to broker, or just selected)

  Available VM list hardcoded in start up code.

=============================================================================================


4. Пересоздание таблицы, каждый статический тэг - отдельное поле
5. При вызове расчета Orders - загрузка из DB по фильтрам/тэгам
    
  - Убрать RISKM из тэгов - просто как опция параметров
  
  

0.  Глобалбные проблемы

- Кэширование всего
- Свечи должны иметь префикс источника (usdm)
- Данные свечей нужно хранить (вычислять или получать с брокера) первое / последне появление свечи в данных
- Либо сделать отдельный кэш сервис, который будет содержать актуальную копию локальных баз свечей по всем известным брокерам	


=== Bot Assist ==============================================================================

 - пользователь создает vm, выбирает символы, стратегии, таймфреймы, период
 - устанавливает фильтры и действие: 
     - НИЧЕГО НЕ ДЕЛАТЬ; СПРАШИВАТЬ В TELEGRAM за N sec; ВХОДИТЬ ВО ВСЕ СДЕЛКИ

 - какая-то привязка аккаунта пользователя к телеграмму (через ввод кода?)
 - далее за N секунд до конца фазы создается превью входы в сделки
 - пользователю кидается в телегу url ( parayok.com/vm12324/BTCUSDT-1h/ )
 в телеге красиво рендерится превью свечи и в телеги можно нажать кнопки ЗАЙТИ / ОТМЕНА
 - если открыть УРЛ там так же видны графики и можно зайти / ОТМЕНА
 - parayok.com/vm12324/dash/ -  доска где за N src появляются все кандидаты на вход.

=============================================================================================




1. В интерфейсе Загрузка ORDERS / Entries только диаппазоном
(при смеене дат перезагружать сущности)

2. Из репорта открывать период ORDERS

3. Сделать что бы все Orders и Entries открывались

  По окончанию периода загрузки (Sequencer) - сохранять все данные в БД, включая:
    - свечи, входы, дебаг
  
  - Описание стратегий
  - разделить коммерческие параметры и сущностные на две формы 
  
  
 1. Подобрать план торговли с низким риском и запустить в автомате	
  - сделать тэг по DIVERGENCE
  

 2. Привлечь к проекту знакомых трейдеров, показав сайт
  - сделать отключение/подключение индикаторов onChart / offChart (получать с сервера)
  - открытие графика за любой период ( кэширование в mysql просчитанных периодов, открытие из mysql )
  - авторизация, создание vm
  - описание всех стратегий, индикаторов, тэгов
  
  
	********************************************************
  	* Выбрать путь: 
	*  
  	* 1. Предкалькулированные данные по всем символам, таймфреймам, стратегиям, анализаторам, кэндл дебаг
  	* 2. Визард создания виртуальной машины с кэшированием
  	********************************************************
  

 3. Кате сделать сигналы к заходу с функцией автоматом войти в сделку
 
 4. Записать дебанк видео на самую популярную ютуб стратегию, проверить реакцию
	- выбрать ютюб видео
	- осовоить скрин капчер программу
	- сделать хороший звук
	- составить план выпуска, записать  


 
 Цель: Зарабатывать 100 долларов в день автоматически.
 Промежуточная цель: зарабатывать 10 долларов в день.

Варианты:

1. Самому подобрать стратегиии
 
2. Сделать подписку по сигналам
  (за 30 секунд до закрытия свечи - анонс в телеграмме, люди отвечают боту - заходим да/нет)
  
  Сделать сообщество экспертов, которые получают процентик со сделок обычных пользователей,
  если их прогноз на сделку дал +.
  
  И канал обычных пользователей, которые получают уже отфильтрованные экспертами сигналы.
  
  
3. Сделать портал для изучения стратегий
 ( фильтрация по ТЭГАМ, на основании фильтра - сигналы ) 
 
4. Выпускать видео на Youtube с дебанком других стратегий и давайть ссылку на сайт,
где разобрана эта стратегия и видны результаты.


Выйдти на режим в неделю:
 
 1. Одно новая ютуб стратегия релизовано
 2. Одно новое ютуб видео выпущено
 3. Один новый человек подключен
 
В таком режиме проработать 4 месяца.

==================================


План глобальный:

1. Вернуть репорты по периодам с фильтрами
2. Подобрать какую-нибуть легкую схему
3. Обновить node.js на сервере, запустить робота по схеме

4. Сделать красивое корректное отображение включение,выключение данных при просмотре входов
5. Сделать что бы открывать график (entry) можно было бы за весь период

6. Сделать авторизацию с созданием vm за период (не более 5 символов ?)







ПЛАН:
 - Как отличаются динамические тэги?
 - Написать tagger Simultanious entry
 - Написать прослойку для запроса списка ордерсов, которая пропускает ордерсы через
 фильтр на базе параметров + указанных тэгов + указанного кода JS.
 - Для интерфейса делаем по всем полям таймаут + запрос на сокеты
 - Для интерфейса так же оставляем код JS
 - Для интерфейса - шапку с фильтрами тэгов и JS скрипта - делаем отдельным компонентом
 и пропогандируем на все другие компоненты отчётов
 
 - в фильтр и сервер добавляем указание ставки фиксированной/процентной, процент вывода и прочие другие вещи



X. REPORT + Арбитраж

- Класс для фильтрации заказов по фильрам поиска (JS, tags array, strategy, symbol, timeframe, date_period)

Х. Фильтр ордерсов через группу фильтров
 - одновременные входы в символ, символ-тайм-фрейм, символ-стратегия-таймфрейм
 - фильтр по маржинколлу (рантайм, потому что стоимость сделки переменная)
 - фильр по одновременному риску с арбитражем (рантайм)
 - динамическая стоимость сделки, процент месячного изъятия
 Эмулятор должен давать все точки входа, а динамический фильтр фильтровать. Те же компоненты фильтров использовать в живых сделах
 
Х. Отображение в фронте релевантных к заказу данных на чарте.
 - Возможность включить/отключить любые доступные данные.
 - Автоматом включать отображение индикаторов от стратегии, которую мы открываем
 
Х. Показывать entries из отфильтрованного списка текущих ордерсов, подсвечивать текущий
 Orders показывать отдельным слоем на чартах (с началом и концом сделки)

Х. Арбитраж лишних заказов

Х. Красота ( TF.time -> TH.time )

***************************************************************** КРУТЫЕ ИДЕИ *****************************
X. На разных стратегиях = Протестировать входы в сделки через лимит ордер + частичное закрытие позиции + ракета
 - сделать частичное закрытие
 - сделать ракету
 
Х. Протестировать ВСЮ кучу стратегий с реальным входом, если более 1 стратегии указало на вход в эту свечу (или N предыдущих
и цена сильно не ушла)


Х. Протестировать ВСЮ кучу стратегий с арбитражем 

******************************************************************
X. Стратегия ABC (+MACD +DIVERGENCE)

DBLBOTTOM: 6. If target takeProfit level crosses more powerfull (in sum) level, than entry - limit takeProfit

Х. Таг объема в киллодолларах

2. Добавить РИСК менеджмент фичу, протестировать ее
  - без арбитража - херня
  
2. Освобождение памяти 
 - Не хранить свечи в тикерах, отображать только через запрос к базе
 - Хранить кэндл дебаг отдельно (пока в памяти в обьекте VM), потом в майскуэль
 - Хранить ордерсы в базе


1. RISK MANAGEMENT. Не входить за "один раз" больше, чем на 2-5 % депозита.
Если входов одновременно больше - то устраивать арбитраж (по недавнему периоду)

   
3. Аварийное закрытие массовых движений (после реализации возможности прогнать pulse-1m)
 - После успешного исправления этой статегией июня 21 года и октября -
 попробовать фильрацию CU5 на эмуляторе - должно дать больше захдов и прибыль.


4. Сделать Стратегию Хоффмана
 - как считать 45 угол? - сделать индикатор
 - сделать в эмуляторе $io->limitOrder( orderOptions )


5. Сделать индиктатор DIVERGENCE
  (смотрим вершины hl_trend или extremum или фракталы вильямса - и смотрим есть ли на RSI вершине выше/ниже 30/70 и как соотносятся их высоты) 


6. Сделать RocketRider (TRAILING TAKE PROFIT), протестить с реальной ценой эмулированной 1м таймфреймом.
если попадание в 95%
 - тейк профит ставим в текущая цена + 3 высоты (original entry-take)
 - стоплос ставим на уровень - 2% от entry Price
 - включаем режим ракета
   - новый триггер ставим в 80%
   - новый тейк ставим в 50%


Х. Сделать фильтр MACD консолидация - не вступать в сделки если больше N свечей цена колеблется
около нуля (менее P процентов от максимума и минимума за последние M свечей)

X. Сделать в выдаче списка заказов (и статистики) - фильтр одновременного захода
в стратегию - (сделать это онлайн на стадии выдачи отчета)

Х. После того, как сделаю алгоритм секвенсирования и арбитража - прогнать текущую стратегию
CU5 в режиме - вход в каждую сделку + арбитраж

X. Научиться брать previous swing low/high как stopLoss

X. Стратегию 20 cross 50 ema  (https://youtu.be/dqtBilESo0A) Блин тут точка входа в середине свечи у него :(

X. ADX > 25 как фильтрация боковиков?
 
11. Поля свечей переделать на односимвольные заодно в бэке и фронте (экономия памяти)

13. Переделать mysql хранение свечей на односимвольные поля + в названии таблиц указывать кодовое имя источика (busdm)
 
15. Оптимизировать candle debug и flags snapshot.

17. Сделать тэггер по попаданию свечи входа хвостом или краем в уровень поддержки/сопротивления

4. Для всех стратегий сделать фильтр за последние пол-года, проверить его не первых пол-года?

5. Переделать BTC TREND на надежный
 - погонять заново годовую статистику по самому тренду
 
************************************************************************
УСПЕШНЫЙ ФИЛЬТР - ВЛИЯЕТ НА ПРОШЛОЕ, ЗА ПРЕДЕЛАМИ ОПРЕДЕЛЕНИЯ УСПЕШНОСТИ
************************************************************************

0. Тейк профит 1/3 на 50% протестировать

0. Вести заказы отдельно в OrdersReal и OrdersEmulator
 OrdersReal с базой данных работает и с событями с биржи,
 не со свечами из тикеров
 
0. Сделать коррекцию стоп лосса! (протестить с пульсом в 1м)
  - после достижения 50% переносить стоплосс в безубыток 
  - проверить это на полугоде 
  - после достижения 95% преносить тейк профит + 5%
  - Разобраться как работает Trailing Stop
  
1. Написать установщик стоплосов аварийный.
 - Если прокатил основной заказ - ставить real = Y все равно наряду с ошибкой установки тейков.
  ( вернуть обратно метод групповой установки )

3. Перевести все broker orderid на клиентские не цифровые (^[\.A-Z\:/a-z0-9_-]{1,36}$)


ИНТЕРФЕЙС

2. Изменение ставки, стопа и тейка перед отправкой
 - из графика
 - желательно графически что бы можactiveно было изменить лонг на шорт
   - изменить entryPrice - в этом случае заказ лимитный.

7. Показывать открытую свечу в графике


******* ПРОЧЕЕ

* Сделать даблботтом начало отсчета отдельным классом с каждой потенциальной точки
(потенциальная точка:
	а. в уровне требуемой силы закрывается или хвост
	б. экстремум (вместо hills использовать фрактал вильямса!)
)
 - вторая вершина может быть просто в том же уровне?
 - обязательно не в друом уровне?



4. Динамический TAKE_PROFIT 
    if price > 75% take_profit)  {
        stopLoss = Max( currentPrice - 1/2 x atr14, startPrice + commision )
  	takeProfit:  	
  		0. Закрытие под линией mac20
  		1. красная падающая звезда с хвостом в зоне сопровивления > 30
     		2. если пришла l_trend вершина в зоне с сопротивлением >= 40  (+ красная свеча текущая)
    		3. если наклон mac20 > 20 градусов, то закрытие под линией mac20
    } 
     	
?. Зубы Аллигатора к Фракталам Вильямса  
 
5.  СТРАТЕГИЯ 'rsimoment' ( https://www.youtube.com/watch?v=ZTIj7YDrQPo )
 - входить на моменте (rsi10 > 70)
 - Не делать новых сделок до касания свечи mac20

7. СТРАТЕГИЯ 'abctrend' ( https://www.youtube.com/watch?v=2UWmPFL5Dlw )
  - cкальпинговая минутная стратегия с учетом   MACD

8. Стохастический индикатор RSI [ https://www.youtube.com/watch?v=7Dliw0yjZLk( ]
[ https://www.investopedia.com/terms/s/stochrsi.asp ]

9. Найти осцилятор, который показывает уровень объема торгов, что бы робот
не торговал в периоды спада
 
Например: считать медианный уровень за последние сутки (для свечей меньше часа), для часовых неделю

=======================================
 
*. Изменение стратегии ДАБЛБОТТОМ:
  
 - Вход в ДАБЛБОТТОМ не после второго дна, а после ретеста шеи! 
 - Вход только, если ВЫСШИЙ таймфрейм в аптренде
 	(по -hl_trend или по ma_trend)	
 	- Написать ma_trend
 
 - Протестировать разные уровни хвостов для определение первого ДНА
   (сейчас отсечка возможно слишком лютая по длинне хвоста)
     

*. Нужен переключатель в чарте на другие таймфреймы (точка входа должна быть видна на всех)
 - соответственно входы должны быть видны на всех - значит отдельный слой (по ордерсам)
 - ширина от входа до выхода (курренттайм для активных)

  
======================

1. ПОКАЗЫВАТЬ вес уровеней на всех уровнях справа на экране, а не по таймфрейму 


4. В заказах показывать текущее состояние кошелька
  
 
2. Сделать в MysqlDB в районе ТАЧ подгрузку данных с последней свечи в базе до текущего момента (FAILSAFE)

 
3. Дебаг свечей с указаниями тренда высшего уровня?
    
5. В заказах показывать Причина выхода
 	- сколько продолжалось движение вверх после тейк профита ближайшие N свечей (ошибка тейк профита - слишком низко)
  

